<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facturacion || Ebisu</title>
    <link rel="stylesheet" href="/Main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sour+Gummy:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
</head>
<body>
    <header>
        <div class="logo">
            <img src="/img/ImgIndex/LogoEbisu.png" alt="Logo Ebisu" class="logo-img">
        </div>
        <nav class="header_nav">
            <ul class="nav-ul">
                <li class="nav-item"><a th:href="@{/Menu_Inicio}"><i class="fa-solid fa-house"></i> Inicio</a></li>
                <li class="nav-item"><a th:href="@{/carrito}"><i class="fa-solid fa-cart-shopping"></i> Carrito</a></li>
                <li class="nav-item" th:if="${cliente == null}">
                    <a th:href="@{/login}"><i class="fa-solid fa-circle-user"></i> Login</a>
                </li>
                <li class="nav-item" th:if="${cliente != null}">
                    <a th:href="@{/logout}"><i class="fa-solid fa-right-from-bracket"></i> Logout</a>
                </li>
            </ul>
        </nav>
    </header>

    <div class="invoice-container">
        <h1>Factura</h1>
        
        <section class="cliente-info">
            <h2>Datos del Cliente</h2>
            <p><strong>Nombre:</strong> <span th:text="${venta.cliente.nombre}">Nombre Cliente</span></p>
            <p><strong>Dirección:</strong> <span th:text="${venta.cliente.direccion}">Dirección</span></p>
            <p><strong>Teléfono:</strong> <span th:text="${venta.cliente.telefono}">Teléfono</span></p>
            <p><strong>Email:</strong> <span th:text="${venta.cliente.email}">Email</span></p>
        </section>
        
        <section class="venta-info">
            <h2>Detalles de la Venta</h2>
            <p><strong>Número de Factura:</strong> <span th:text="${venta.ventaId}">0000</span></p>
            <p><strong>Fecha:</strong> 
                <span th:text="${#dates.format(venta.fechaVenta, 'dd/MM/yyyy')}">01/01/2025</span>
            </p>
            <p><strong>Total de la Venta:</strong> $<span th:text="${venta.total}">0</span></p>
        </section>
        
        <section class="detalles-venta">
            <h2>Detalle del Pedido</h2>
            <table>
                <thead>
                    <tr>
                        <th>Producto</th>
                        <th>Imagen</th>
                        <th>Precio</th>
                        <th>Cantidad</th>
                        <th>Subtotal</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="detalle : ${venta.detalles}">
                        <td th:text="${detalle.producto.nombre}">Nombre Producto</td>
                        <td>
                            <img th:src="${detalle.producto.imagenUrl}" alt="Imagen de Producto" style="width:100px; height:100px;">
                        </td>
                        <td>$<span th:text="${detalle.producto.precio}">0</span></td>
                        <td th:text="${detalle.cantidad}">1</td>
                        <td>$<span th:text="${detalle.subtotal}">0</span></td>
                    </tr>
                </tbody>
            </table>
        </section>
        
        <!-- Pie de Factura -->
        <section class="footer-factura">
            <p>Gracias por su compra!</p>
            <button type="button" onclick="window.location.href='/Menu_Inicio'">Volver al inicio</button>
        </section>
    </div>
    
    <footer>
        <p>&copy; 2025 Ebisu. Todos los derechos reservados.</p>
    </footer>
</body>
</html>