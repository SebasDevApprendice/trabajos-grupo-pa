<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Menu Principal || Ebisu</title>
    <link rel="stylesheet" href="/Main.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Sour+Gummy:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet" />
</head>

<body>
    <header>
        <div class="logo">
            <img src="img/ImgIndex/LogoEbisu.png" alt="Logo Ebisu" class="logo-img" />
        </div>
        <nav class="header_nav">
            <ul class="nav-ul">
                <li class="nav-item">
                    <a href="/Menu_Inicio"><i class="fa-solid fa-house"></i> Inicio</a>
                </li>
                <li class="nav-item">
                    <a href="/carrito"><i class="fa-solid fa-cart-shopping"></i> Carrito</a>
                </li>
                <li class="nav-item"
                    th:if="(${cliente != null and cliente.rol == 'ADMIN'}) or (${usuarioLogueado != null and usuarioLogueado.usrTipo == T(com.example.demo.Model.TipoUsuario).Administrador})">
                    <a href="/vistaAdmin"><i class="fa-solid fa-tools"></i> Administrar</a>
                </li>
                <li class="nav-item" th:if="${cliente == null and usuarioLogueado == null}">
                    <a href="/login"><i class="fa-solid fa-circle-user"></i> Login</a>
                </li>
                <li class="nav-item" th:if="${cliente != null or usuarioLogueado != null}">
                    <a href="/logout"><i class="fa-solid fa-right-from-bracket"></i> Logout</a>
                </li>
            </ul>
        </nav>
    </header>

    <div class="contenedor">
        <aside class="sidebar">
            <ul class="sidebar-list">
                <li class="sidebar-item"><a href="/vistaAdmin"><i class="fa-solid fa-chart-pie"></i>
                        <span>Dashboard</span></a></li>
                <li class="sidebar-item"><a href="/formularioUsuarios"><i class="fa-solid fa-users"></i>
                        <span>Usuarios</span></a></li>
                <li class="sidebar-item"><a href="/formularioRopa"><i class="fa-solid fa-shirt"></i>
                        <span>Ropa</span></a></li>
                <li class="sidebar-item">
                    <a href="/reponer">
                        <i class="fa-solid fa-receipt"></i>
                        <span>reponer
                            Inventario</span>
                    </a>
                </li>
                <li class="sidebar-item"><a href="/finanzas"><i class="fa-solid fa-coins"></i> <span>Finanzas</span></a>
                </li>
                <li class="sidebar-item"><a href="/pedidos"><i class="fa-solid fa-receipt"></i> <span>Pedidos</span></a>
                </li>
                <li class="sidebar-item"><a href="/logout"><i class="fa-solid fa-right-from-bracket"></i>
                        <span>Salir</span></a></li>
            </ul>
        </aside>

    <div class="products">
        <h1>Productos con Stock Bajo (< 5 unidades)</h1>

                <div th:each="producto : ${colaProductos}" class="product-card">
                    <img class="product-img"
                        th:src="${producto.imagenUrl != null ? producto.imagenUrl : '/img/default.png'}"
                        alt="Imagen del Producto" />
                    <div class="product-info">
                        <h3 th:text="${producto.nombre}">Nombre del producto</h3>
                        <p>
                            <strong>Stock Actual:</strong>
                            <span th:text="${producto.cantidad}">0</span>
                        </p>
                        <form th:action="@{/reponer}" method="post">
                            <input type="hidden" name="id" th:value="${producto.codigo}" />
                            <input type="number" name="cantidadAdicional" placeholder="Cantidad a agregar" min="1"
                                required />
                            <button type="submit" class="btn">Reponer</button>
                        </form>
                    </div>
                </div>
    </div>
</body>

</html>